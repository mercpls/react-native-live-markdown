{"version":3,"names":["_treeUtils","require","_cursorUtils","_blockUtils","_animationUtils","ungroupRanges","ranges","ungroupedRanges","forEach","range","depth","push","rangeWithoutDepth","Array","from","length","splitTextIntoLines","text","lineStartIndex","lines","split","map","line","lineObject","start","markdownRanges","mergeLinesWithMultilineTags","mergedLines","lineIndexes","_line","index","beginLineIndex","findLastIndex","endLineIndex","findIndex","correspondingLineIndexes","slice","mainLineIndex","mainLine","otherLineIndexes","lineIndex","otherLine","filter","includes","appendValueToElement","element","parentTreeNode","value","targetElement","parentNode","appendNode","type","node","addNodeToTree","appendChild","addBrElement","span","document","createElement","setAttribute","spanNode","addTextToElement","createTextNode","addParagraph","disableInlineStyles","p","addStyleToBlock","pNode","addBlockWrapper","targetNode","markdownStyle","parseRangesToHTMLNodes","isMultiline","currentInput","inlineImagesProps","rootElement","textLength","rootNode","createRootTreeNode","currentParentNode","dom","tree","lastRangeEndIndex","shift","wasBlockGenerated","lineMarkdownRanges","endOfCurrentRange","nextRangeStartIndex","blockRange","getFirstBlockMarkdownRange","substring","textBeforeRange","extendBlockStructure","textAfterRange","isBlockMarkdownType","moveCursor","isFocused","alwaysMoveCursorToTheEnd","cursorPosition","target","shouldScrollIntoView","moveCursorToEnd","setCursorPosition","updateInputStructure","cursorPositionIndex","shouldForceDOMUpdate","activeElement","selection","getCurrentCursorPosition","global","parseExpensiMarkToRanges","innerHTML","innerText","animationTimes","getAnimationCurrentTimes","updateAnimationsTime","updateTreeElementRefs"],"sourceRoot":"../../../../src","sources":["web/utils/parserUtils.ts"],"mappings":"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"}