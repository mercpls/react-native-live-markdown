{"version":3,"names":["ZERO_WIDTH_SPACE","isEventComposing","nativeEvent","isComposing","keyCode","getPlaceholderValue","placeholder","length","getElementHeight","node","styles","numberOfLines","tempElement","document","createElement","setAttribute","Object","assign","style","textContent","Array","fill","join","parentElement","appendChild","height","clientHeight","removeChild","normalizeValue","value","replaceAll","parseInnerHTMLToText","target","cursorPosition","inputType","getTopParentNode","currentParentNode","parentNode","includes","_currentParentNode$pa","getAttribute","_currentParentNode","stack","text","shouldAddNewline","lastNode","childNodes","nodeName","innerHTML","_node$parentElement","pop","isTopComponent","contentEditable","nodeType","Node","TEXT_NODE","_firstChild$getAttrib","firstChild","containsEmptyBlockElement","call","_parentNode$parentEle","i","child","push","slice"],"sourceRoot":"../../../../src","sources":["web/utils/inputUtils.ts"],"mappings":"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"}